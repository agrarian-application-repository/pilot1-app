# name: Run pre-commit hooks in CI

# on:
#   push:
#     branches:
#       - main
#   pull_request:
#     branches:
#       - main

# jobs:
#   pre-commit:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v3

#       - name: Set up Python
#         uses: actions/setup-python@v4
#         with:
#           python-version: '3.10'

#       - name: Cache pre-commit environment
#         uses: actions/cache@v3
#         with:
#           path: ~/.cache/pre-commit
#           key: ${{ runner.os }}-pre-commit-${{ hashFiles('.pre-commit-config.yaml') }}
#           restore-keys: |
#             ${{ runner.os }}-pre-commit-

#       - name: Install dependencies
#         run: |
#           python -m venv venv
#           source venv/bin/activate
#           python -m pip install --upgrade pip
#           pip install pre-commit

#       - name: Run pre-commit hooks in validation mode
#         run: |
#           source venv/bin/activate
#           pre-commit run --all-files --show-diff-on-failure
